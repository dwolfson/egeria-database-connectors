From 4326ae10512059d017f79b8c99803c25ebe81df6 Mon Sep 17 00:00:00 2001
From: Nigel Jones <nigel.l.jones+git@gmail.com>
Date: Fri, 4 Nov 2022 08:20:50 +0000
Subject: [PATCH] #217 Fix up compile issues with omrs database polling event
 repository mapper

Signed-off-by: Nigel Jones <nigel.l.jones+git@gmail.com>
---
 .../auditlog/DbPollingOMRSAuditCode.java           |  1 +
 .../OMRSDatabasePollingRepositoryEventMapper.java  | 14 +++++++++++++-
 ...tabasePollingRepositoryEventMapperProvider.java |  2 +-
 3 files changed, 15 insertions(+), 2 deletions(-)

diff --git a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/auditlog/DbPollingOMRSAuditCode.java b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/auditlog/DbPollingOMRSAuditCode.java
index c708818..3c2872c 100644
--- a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/auditlog/DbPollingOMRSAuditCode.java
+++ b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/auditlog/DbPollingOMRSAuditCode.java
@@ -4,6 +4,7 @@ package org.odpi.egeria.connectors.databasepollingrepository.auditlog;
 
 import org.odpi.openmetadata.frameworks.auditlog.messagesets.AuditLogMessageDefinition;
 import org.odpi.openmetadata.frameworks.auditlog.messagesets.AuditLogMessageSet;
+import org.odpi.openmetadata.repositoryservices.auditlog.OMRSAuditLogRecordSeverity;
 //import org.odpi.openmetadata.repositoryservices.auditlog.OMRSAuditLogRecordSeverity;
 
 /**
diff --git a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapper.java b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapper.java
index e62ba70..8e17800 100644
--- a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapper.java
+++ b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapper.java
@@ -10,7 +10,19 @@ import org.odpi.egeria.connectors.databasepollingrepository.auditlog.DbPollingOM
 import org.odpi.egeria.connectors.databasepollingrepository.helpers.ExceptionHelper;
 import org.odpi.egeria.connectors.databasepollingrepository.helpers.MapperHelper;
 import org.odpi.egeria.connectors.databasepollingrepository.helpers.SupportedTypes;
+import org.odpi.openmetadata.adapters.repositoryservices.caching.repository.CachedRepositoryAccessor;
+import org.odpi.openmetadata.adapters.repositoryservices.caching.repositoryconnector.CachingOMRSRepositoryProxyConnector;
 import org.odpi.openmetadata.frameworks.connectors.ffdc.ConnectorCheckedException;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.OMRSMetadataCollection;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.instances.Classification;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.instances.EntityDetail;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.instances.InstanceGraph;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.instances.InstanceProperties;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.instances.Relationship;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.properties.typedefs.TypeDef;
+import org.odpi.openmetadata.repositoryservices.connectors.stores.metadatacollectionstore.repositoryeventmapper.OMRSRepositoryEventMapperBase;
+import org.odpi.openmetadata.repositoryservices.ffdc.exception.RepositoryErrorException;
+import org.odpi.openmetadata.repositoryservices.ffdc.exception.TypeErrorException;
 
 
 import java.util.*;
@@ -438,7 +450,7 @@ abstract public class OMRSDatabasePollingRepositoryEventMapper extends OMRSRepos
                 for (String typeName : SupportedTypes.supportedTypeNames) {
 
                     TypeDef typeDef = repositoryHelper.getTypeDefByName("OMRSDatabasePollingRepositoryEventMapper",
-                            typeName);
+                                                                        typeName);
                     if (typeDef != null) {
                         auditLog.logMessage(methodName, DbPollingOMRSAuditCode.EVENT_MAPPER_ACQUIRING_TYPES_LOOP_FOUND_TYPE.getMessageDefinition(typeName));
                         typeNameToGuidMap.put(typeName, typeDef.getGUID());
diff --git a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapperProvider.java b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapperProvider.java
index 8e1cd7c..253b99b 100644
--- a/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapperProvider.java
+++ b/omrs-database-polling-repository-event-mapper/src/main/java/org/odpi/egeria/connectors/databasepollingrepository/eventmapper/OMRSDatabasePollingRepositoryEventMapperProvider.java
@@ -42,7 +42,7 @@ abstract public class OMRSDatabasePollingRepositoryEventMapperProvider extends O
      * OMRS Connector implementation.
      */
     public OMRSDatabasePollingRepositoryEventMapperProvider() {
-        Class<?> connectorClass = HMSOMRSRepositoryEventMapper.class;
+        Class<?> connectorClass = OMRSDatabasePollingRepositoryEventMapper.class;
         super.setConnectorClassName(connectorClass.getName());
         ConnectorType connectorType = new ConnectorType();
         connectorType.setType(ConnectorType.getConnectorTypeType());
-- 
2.38.1

